<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel ERP System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sidebar-bg: #2c3e50;
            --sidebar-color: #ecf0f1;
            --primary-color: #3498db;
            --active-bg: #34495e;
        }
        body { font-family: 'Inter', sans-serif; background-color: #f4f6f9; font-size: 0.9rem; }
        
        /* Sidebar Styling - Menu đa cấp */
        .sidebar {
            width: 260px;
            height: 100vh;
            position: fixed;
            background: var(--sidebar-bg);
            color: var(--sidebar-color);
            overflow-y: auto;
            z-index: 1000;
        }
        .sidebar-header { padding: 20px; font-size: 1.2rem; font-weight: bold; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .nav-item { border-bottom: 1px solid rgba(255,255,255,0.05); }
        .nav-link { color: #bdc3c7; padding: 12px 20px; display: flex; justify-content: space-between; align-items: center; }
        .nav-link:hover, .nav-link.active { color: #fff; background: var(--active-bg); text-decoration: none; }
        .nav-link i { width: 25px; }
        .submenu { background: #233342; display: none; } /* Ẩn submenu mặc định */
        .submenu .nav-link { padding-left: 50px; font-size: 0.85rem; }
        
        /* Main Content */
        .main-content { margin-left: 260px; padding: 20px; }
        
        /* Tabs trong Modal */
        .nav-tabs .nav-link { color: #495057; font-weight: 500; }
        .nav-tabs .nav-link.active { color: var(--primary-color); border-top: 3px solid var(--primary-color); }
        
        /* Form Controls */
        .form-label { font-weight: 600; font-size: 0.85rem; color: #34495e; }
        .accordion-button:not(.collapsed) { color: var(--primary-color); background-color: #e7f1ff; }

        /* Timeline Itinerary */
        .timeline-step { border-left: 2px solid #e9ecef; padding-left: 20px; margin-left: 10px; padding-bottom: 20px; position: relative; }
        .timeline-step::before { content: ''; width: 12px; height: 12px; background: var(--primary-color); border-radius: 50%; position: absolute; left: -7px; top: 5px; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="sidebar-header"><i class="fas fa-globe-americas me-2"></i>TRAVEL MANAGER</div>
    <ul class="nav flex-column">
        <li class="nav-item"><a href="#" class="nav-link active"><div class="d-flex align-items-center"><i class="fas fa-tachometer-alt"></i> Dashboard</div></a></li>
        
        <li class="nav-item">
            <a href="#" class="nav-link" onclick="toggleMenu('menu-tour')">
                <div class="d-flex align-items-center"><i class="fas fa-suitcase"></i> Quản lý Tour</div>
                <i class="fas fa-chevron-down small"></i>
            </a>
            <div id="menu-tour" class="submenu">
                <a href="#" class="nav-link">Danh sách Tour</a>
                <a href="#" class="nav-link">Tour Theo Yêu Cầu</a>
                <a href="#" class="nav-link">Quản lý Phiên bản (Mùa/KM)</a>
            </div>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link" onclick="toggleMenu('menu-booking')">
                <div class="d-flex align-items-center"><i class="fas fa-shopping-cart"></i> Booking & Sales</div>
                <i class="fas fa-chevron-down small"></i>
            </a>
            <div id="menu-booking" class="submenu">
                <a href="#" class="nav-link">Tạo Booking Mới</a>
                <a href="#" class="nav-link">Danh sách Đơn hàng</a>
                <a href="#" class="nav-link">Quản lý Khách hàng</a>
            </div>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link" onclick="toggleMenu('menu-ops')">
                <div class="d-flex align-items-center"><i class="fas fa-cogs"></i> Điều hành</div>
                <i class="fas fa-chevron-down small"></i>
            </a>
            <div id="menu-ops" class="submenu">
                <a href="#" class="nav-link">Lịch khởi hành</a>
                <a href="#" class="nav-link">Phân bổ Hướng dẫn viên</a>
                <a href="#" class="nav-link">Đặt dịch vụ (Xe/KS)</a>
                <a href="#" class="nav-link">Nhật ký Tour (Log)</a>
            </div>
        </li>

        <li class="nav-item">
            <a href="#" class="nav-link" onclick="toggleMenu('menu-fin')">
                <div class="d-flex align-items-center"><i class="fas fa-file-invoice-dollar"></i> Tài chính & NCC</div>
                <i class="fas fa-chevron-down small"></i>
            </a>
            <div id="menu-fin" class="submenu">
                <a href="#" class="nav-link">Danh sách NCC</a>
                <a href="#" class="nav-link">Công nợ Phải thu/Trả</a>
                <a href="#" class="nav-link">Dự toán & Quyết toán</a>
            </div>
        </li>
        
        <li class="nav-item"><a href="#" class="nav-link"><div class="d-flex align-items-center"><i class="fas fa-chart-line"></i> Báo cáo</div></a></li>
    </ul>
</div>

<div class="main-content">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h4 class="fw-bold text-secondary">Danh sách Tour</h4>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#tourModalFull">
            <i class="fas fa-plus me-2"></i>Thêm Tour Mới (Full)
        </button>
    </div>

    <div class="card shadow-sm border-0">
        <div class="card-body">
            <table class="table table-hover align-middle">
                <thead class="bg-light">
                    <tr>
                        <th>Mã</th>
                        <th>Tên Tour</th>
                        <th>Loại</th>
                        <th>Thời lượng</th>
                        <th>Giá từ</th>
                        <th>Thao tác</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>T001</td>
                        <td>Hà Giang Mùa Hoa Tam Giác Mạch</td>
                        <td><span class="badge bg-info">Trong nước</span></td>
                        <td>3N2Đ</td>
                        <td>3.500.000 ₫</td>
                        <td><button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i></button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="modal fade" id="tourModalFull" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable"> <div class="modal-content">
            <div class="modal-header bg-white">
                <h5 class="modal-title text-primary fw-bold"><i class="fas fa-layer-group me-2"></i>Thiết lập Tour Chi tiết</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-0">
                
                <ul class="nav nav-tabs px-3 pt-3" id="tourTabs" role="tablist">
                    <li class="nav-item"><button class="nav-link active" data-bs-target="#tab-info" data-bs-toggle="tab">Thông tin chung</button></li>
                    <li class="nav-item"><button class="nav-link" data-bs-target="#tab-itinerary" data-bs-toggle="tab">Lịch trình & Dịch vụ</button></li>
                    <li class="nav-item"><button class="nav-link" data-bs-target="#tab-price" data-bs-toggle="tab">Bảng giá & Phiên bản</button></li>
                    <li class="nav-item"><button class="nav-link" data-bs-target="#tab-seo" data-bs-toggle="tab">Hình ảnh & QR</button></li>
                </ul>

                <div class="tab-content p-4">
                    <div class="tab-pane fade show active" id="tab-info">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label">Mã Tour</label>
                                <input type="text" class="form-control" placeholder="VD: T-HG-001">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Tên Tour</label>
                                <input type="text" class="form-control" placeholder="Tên hiển thị trên báo giá">
                            </div>
                             <div class="col-md-3">
                                <label class="form-label">Phân loại</label>
                                <select class="form-select">
                                    <option>Tour Trong nước</option>
                                    <option>Tour Quốc tế</option>
                                    <option>Tour Theo yêu cầu</option>
                                </select>
                            </div>
                            <div class="col-md-12">
                                <label class="form-label">Mô tả ngắn (Highlight)</label>
                                <textarea class="form-control" rows="3" placeholder="Các điểm nổi bật của tour..."></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="tab-itinerary">
                        <div class="d-flex justify-content-between mb-3">
                            <h6>Chi tiết hành trình</h6>
                            <button class="btn btn-sm btn-outline-success" onclick="addDay()"><i class="fas fa-plus"></i> Thêm Ngày</button>
                        </div>
                        <div id="itinerary-container">
                            <div class="card mb-3 border-start border-3 border-primary">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <h6 class="fw-bold text-primary">Ngày 1: Đón khách - Khởi hành</h6>
                                        <button class="btn btn-sm text-danger"><i class="fas fa-trash"></i></button>
                                    </div>
                                    <textarea class="form-control mb-2" rows="2" placeholder="Mô tả hoạt động trong ngày..."></textarea>
                                    <div class="row g-2">
                                        <div class="col-md-4"><input type="text" class="form-control form-control-sm" placeholder="Điểm tham quan"></div>
                                        <div class="col-md-4"><input type="text" class="form-control form-control-sm" placeholder="Khách sạn/Nghỉ đêm"></div>
                                        <div class="col-md-4">
                                            <div class="input-group input-group-sm">
                                                <span class="input-group-text">Ăn uống</span>
                                                <select class="form-select"><option>Sáng, Trưa, Tối</option><option>Trưa, Tối</option></select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="tab-price">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>Đối tượng</th>
                                        <th>Giá Gốc (Net)</th>
                                        <th>Giá Bán (Public)</th>
                                        <th>Lợi nhuận dự kiến</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Người lớn (>12t)</td>
                                        <td><input type="number" class="form-control form-control-sm" value="3000000"></td>
                                        <td><input type="number" class="form-control form-control-sm" value="4500000"></td>
                                        <td class="text-success fw-bold">1.500.000 ₫</td>
                                    </tr>
                                    <tr>
                                        <td>Trẻ em (5-11t)</td>
                                        <td><input type="number" class="form-control form-control-sm" value="2000000"></td>
                                        <td><input type="number" class="form-control form-control-sm" value="3000000"></td>
                                        <td class="text-success fw-bold">1.000.000 ₫</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-3">
                            <label class="form-label">Chính sách hoàn hủy</label>
                            <textarea class="form-control" rows="3" placeholder="Nhập điều kiện hủy tour..."></textarea>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="tab-seo">
                        <div class="row">
                            <div class="col-md-8">
                                <div class="border border-dashed p-4 text-center rounded bg-light">
                                    <i class="fas fa-cloud-upload-alt fa-2x text-secondary mb-2"></i>
                                    <p>Kéo thả ảnh tour vào đây hoặc click để tải lên</p>
                                </div>
                            </div>
                            <div class="col-md-4 text-center">
                                <label class="form-label">Mã QR Đặt Tour</label>
                                <div class="bg-white border p-3 d-inline-block">
                                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=ExampleTourLink" alt="QR Code">
                                </div>
                                <div class="mt-2 small text-muted">Link: travel.com/tour/t001</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer bg-light">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <button type="button" class="btn btn-success"><i class="fas fa-save me-1"></i> Lưu & Tạo báo giá</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Logic ẩn hiện Menu con
    function toggleMenu(id) {
        const el = document.getElementById(id);
        el.style.display = (el.style.display === 'block') ? 'none' : 'block';
    }

    // Logic thêm ngày lịch trình
    function addDay() {
        const container = document.getElementById('itinerary-container');
        const dayCount = container.children.length + 1;
        const html = `
            <div class="card mb-3 border-start border-3 border-secondary">
                <div class="card-body">
                    <div class="d-flex justify-content-between">
                        <h6 class="fw-bold text-secondary">Ngày ${dayCount}: Tiêu đề...</h6>
                        <button class="btn btn-sm text-danger" onclick="this.closest('.card').remove()"><i class="fas fa-trash"></i></button>
                    </div>
                    <textarea class="form-control mb-2" rows="2" placeholder="Mô tả hoạt động..."></textarea>
                     <div class="row g-2">
                        <div class="col-md-4"><input type="text" class="form-control form-control-sm" placeholder="Điểm tham quan"></div>
                        <div class="col-md-4"><input type="text" class="form-control form-control-sm" placeholder="Khách sạn"></div>
                        <div class="col-md-4"><input type="text" class="form-control form-control-sm" placeholder="Ăn uống"></div>
                    </div>
                </div>
            </div>
        `;
        container.insertAdjacentHTML('beforeend', html);
    }
</script>
</body>
</html>